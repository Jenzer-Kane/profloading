{% extends "base.html" %} {% block content %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Portal</title>

    <style>
      .hidden {
        display: block;
      }
      
      .markScheduleDiv {
        display: block;
      }

      .hiddenDivScheduleButton {
        display: block;
      }

      .deleteAccountDiv {
        display: block;
      }

      .choiceLabel {
        display: block;
      }

      #contentContainer {
        align-content: center;
        justify-content: center;
        margin-top: 25px;
        margin-bottom: 50px;
      }

      #contentContainer div {
        align-items: center;
      }

      #scheduleTable th {
        vertical-align: middle;
      }
      
      #scheduleTable td {
        vertical-align: middle;
      }

    </style>

    <script>
      var scheduleMode = 0;
      function updateHiddenEndTime() {
        var endTime = $("#end-time").val();
        $("#hidden-endingTime").val(endTime);
      }

      function updateEndTime() {
        var startTime = $("#start-time").val();
        $("#end-time").empty();
        var endTimeOptions = generateEndTimeOptions(startTime);
        $("#end-time").append(endTimeOptions);
        updateHiddenEndTime();
      }

      function generateEndTimeOptions(startTime) {
        var startTimeObj = new Date("2000-01-01 " + startTime);
        startTimeObj.setHours(
          startTimeObj.getHours() + 1,
          startTimeObj.getMinutes() + 30
        );
        var endTimeOptions = "";

        for (var i = 1; i <= 12; i++) {
          var endTimeValue = startTimeObj.toTimeString().slice(0, 8);
          var endTimeText = startTimeObj.toLocaleTimeString("en-US", {
            hour: "2-digit",
            minute: "2-digit",
          });
          endTimeOptions += `<option value="${endTimeValue}">${endTimeText} </option>`;
          startTimeObj.setHours(
            startTimeObj.getHours() + 1,
            startTimeObj.getMinutes() + 30
          );
        }

        return endTimeOptions;
      }

      function updateHonorVacantHiddenEndTime() {
        var endTime = $("#honor-vacant-end-time").val();
        $("#honor-vacant-hidden-endingTime").val(endTime);
      }

      function updateHonorVacantEndTime() {
        var startTime = $("#honor-vacant-start-time").val();
        $("#honor-vacant-end-time").empty();
        var endTimeOptions = generateHonorVacantEndTimeOptions(startTime);
        $("#honor-vacant-end-time").append(endTimeOptions);
        updateHonorVacantHiddenEndTime();
      }

      function generateHonorVacantEndTimeOptions(startTime) {
        var startTimeObj = new Date("2000-01-01 " + startTime);
        startTimeObj.setHours(
          startTimeObj.getHours() + 1,
          startTimeObj.getMinutes() + 30
        );
        var endTimeOptions = "";

        for (var i = 1; i <= 12; i++) {
          var endTimeValue = startTimeObj.toTimeString().slice(0, 8);
          var endTimeText = startTimeObj.toLocaleTimeString("en-US", {
            hour: "2-digit",
            minute: "2-digit",
          });
          endTimeOptions += `<option value="${endTimeValue}">${endTimeText} </option>`;
          startTimeObj.setHours(
            startTimeObj.getHours() + 1,
            startTimeObj.getMinutes() + 30
          );
        }

        return endTimeOptions;
      }

      function hideDiv() {
        var professorHolderVariable = "{{ current_professor }}";
        var dropdown = document.getElementById("profDetails");
        var selectedValue = dropdown.value;
        var hiddenDiv = document.getElementById("hiddenDiv");
        var hiddenCheckScheduleButton = document.getElementById(
          "hiddenCheckSchedule"
        );
        var hiddenHonorariumVacancyButton = document.getElementById(
          "hiddenHonorariumVacancy"
        );
        var deleteAccount = document.getElementById(
          'deleteAccountDiv');

        if (selectedValue != professorHolderVariable) {
          hiddenDiv.style.display = "none";
          hiddenCheckScheduleButton.style.display = "block";
          hiddenHonorariumVacancyButton.style.display = "block";
          document.getElementById("choiceLabel").style.display = "block";
          document.getElementById('markScheduleDiv').style.display = "none";
          deleteAccount.style.display = "none";
        }
      }

      window.onload = function () {
        var professorHolderVariable = "{{ current_professor }}";
        if (professorHolderVariable != 0) {
          document.getElementById("hiddenCheckSchedule").style.display = "none";
          document.getElementById("hiddenHonorariumVacancy").style.display =
            "none";
          document.getElementById("choiceLabel").style.display = "none";
        }
      };

      console.log(scheduleMode);
    </script>
  </head>
  <body class="bg-tertiary-subtle">
    <form method="POST">
      <div class="container-fluid" id="mainContainer">
        <div class="row pt-4">
          <div class="col-3"></div>
          <div class="alert alert-info col-6 mt-3" role="alert">
            {% for prof in professorData if prof[0] == current_professor %}
            <h5 class="text-center mt-3">
              Schedule for <b>{{prof[1]}}</b> is available.
            </h5>
            <p class="text-center">See content below for details.</p>
            {% else %}
            <h5 class="text-center my-3">
              Please select a professor to be scheduled.
            </h5>
            {% endfor %}
          </div>
        </div>

        <div class="container" id="contentContainer">
          <div class="row gx-3">
            <div class="col-4">
              <div class="bg-primary-subtle p-4 rounded-4">
                <h3 class="text-center pb-3">Professor Details</h3>
                <div class="form-floating">
                  <select
                    id="profDetails"
                    class="form-select"
                    name="professorDetails"
                    style="height: 70px"
                    onchange="hideDiv()"
                  >
                    {% for professors in professorData %}
                    <option value="{{ professors[0] }}" {% if professors[0] == current_professor %} selected="selected" {% endif %}>
                      {{ professors[1] }}
                    </option>
                    {% endfor %}
                  </select>
                  <label for="profDetails">Professor Name</label>
                </div>

                <p
                  id="choiceLabel"
                  class="pt-5 text-center"
                  onloadstart="hideCheckSchedule()"
                >
                  Choose from the options:
                </p>
                <div class="d-flex column-gap-3 justify-content-center">
                  <button
                    id="hiddenCheckSchedule"
                    type="submit"
                    name="btn"
                    value="checkProfessorSchedule"
                    class="btn btn-primary"
                    onloadstart="hideCheckSchedule()"
                    formnovalidate
                  >
                    Schedule Courses
                  </button>

                  <button
                    id="hiddenHonorariumVacancy"
                    type="submit"
                    name="btn"
                    value="setHonorariumVacantTime"
                    class="btn btn-secondary"
                    onloadstart="hideHonorariumVacancy()"
                    formnovalidate
                  >
                    Honorarium/Vacancy
                  </button>
                </div>

                <div class="pt-3 hidden" id="hiddenDiv">
                  {% if current_professor != 0 and scheduleMode == 1 %}
                  <div class="row">
                    <div class="col-6">
                      <div class="form-floating mb-3">
                        <input
                          type="text"
                          class="form-control"
                          id="floatingInput"
                          name="courseSection"
                          placeholder="OACC1"
                          required
                        />
                        <label for="floatingInput">Course Section</label>
                      </div>
                    </div>

                    <div class="col-6">
                      <div class="form-floating mb-3">
                        <select
                          id="current_course"
                          class="form-select"
                          name="currentCourse"
                          required
                        >
                          <option default></option>
                          {% for prof_courses in courseData if prof_courses[0]
                          != 'HT' ~ current_professor and prof_courses[0] !=
                          'VT' ~ current_professor %}
                          <option value="{{prof_courses[0]}}">
                            {{ prof_courses[0] }}
                          </option>
                          {% endfor %}
                        </select>
                        <label for="current_course">Selected Course</label>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-6 mb-3">
                      <div class="form-floating">
                        <select
                          class="form-select"
                          required
                          id="start-time"
                          name="startTime"
                          onchange="updateEndTime()"
                        >
                          <option default></option>
                          <option value="07:30:00">7:30 AM</option>
                          <option value="09:00:00">9:00 AM</option>
                          <option value="10:30:00">10:30 AM</option>
                          <option value="12:00:00">12:00 PM</option>
                          <option value="13:30:00">01:30 PM</option>
                          <option value="15:00:00">03:00 PM</option>
                        </select>
                        <label for="floatingPassword">Start Time</label>
                      </div>
                    </div>

                    <div class="col-6 mb-3">
                      <div class="form-floating">
                        <select
                          class="form-select"
                          id="end-time"
                          onchange="updateHiddenEndTime()"
                          disabled
                        >
                          <option default disabled></option>
                          <!-- Options will be dynamically populated based on the selected Start Time -->
                        </select>
                        <label for="floatingPassword">End Time</label>
                      </div>
                    </div>

                    <!-- Hidden input to store the value of the End Time dropdown -->
                    <input
                      type="hidden"
                      id="hidden-endingTime"
                      name="endingTime"
                    />
                  </div>

                  <div class="row">
                    <div class="col-6 mb-3">
                      <div class="form-floating">
                        <div class="form-floating">
                          <input
                            type="text"
                            class="form-control"
                            id="floatingInput"
                            name="courseRoom"
                            placeholder="Room"
                          />
                          <label for="floatingInput">Room</label>
                        </div>
                      </div>
                    </div>
                    <div class="col-6 mb-3">
                      <div class="form-floating">
                        <select class="form-select" required name="dayOfWeek">
                          <option default></option>
                          <option value="Monday">Monday</option>
                          <option value="Tuesday">Tuesday</option>
                          <option value="Wednesday">Wednesday</option>
                          <option value="Thursday">Thursday</option>
                          <option value="Friday">Friday</option>
                          <option value="Saturday">Saturday</option>
                        </select>
                        <label for="floatingPassword">Day of Week</label>
                      </div>
                    </div>
                  </div>

                  <div class="d-flex column-gap-3 justify-content-center">
                    <button
                      type="submit"
                      name="btn"
                      value="backToAdmin"
                      class="btn btn-secondary"
                      formnovalidate
                    >
                      Back
                    </button>

                    <button
                      type="submit"
                      name="btn"
                      value="manageCourse"
                      class="btn btn-success"
                    >
                      Confirm Changes
                    </button>
                  </div>

                  {% elif current_professor != 0 and scheduleMode == 2 %}
                  <div class="row">
                    <div class="col-6">
                      <div class="form-floating">
                        <select
                          id="honorVacantDropdown"
                          class="form-select"
                          name="honorVacantChoice"
                          onchange="hideDiv()"
                        >
                          <option default></option>
                          <option value="Honorarium Time">
                            Honorarium Time
                          </option>
                          <option value="Vacant Time">Vacant Time</option>
                        </select>
                        <label for="honorVacantDropdown">Select Schedule</label>
                      </div>
                    </div>

                    <div class="col-6">
                      <div class="form-floating">
                        <select
                          class="form-select"
                          required
                          name="honorVacantDayOfWeek"
                        >
                          <option default></option>
                          <option value="Monday">Monday</option>
                          <option value="Tuesday">Tuesday</option>
                          <option value="Wednesday">Wednesday</option>
                          <option value="Thursday">Thursday</option>
                          <option value="Friday">Friday</option>
                          <option value="Saturday">Saturday</option>
                        </select>
                        <label for="floatingPassword">Day of Week</label>
                      </div>
                    </div>
                  </div>

                  <div class="row pt-4">
                    <div class="col-6 mb-3">
                      <div class="form-floating">
                        <select
                          class="form-select"
                          required
                          id="honor-vacant-start-time"
                          name="honorVacantStartTime"
                          onchange="updateHonorVacantEndTime()"
                        >
                          <option default></option>
                          <option value="07:30:00">7:30 AM</option>
                          <option value="09:00:00">9:00 AM</option>
                          <option value="10:30:00">10:30 AM</option>
                          <option value="12:00:00">12:00 PM</option>
                          <option value="13:30:00">01:30 PM</option>
                          <option value="15:00:00">03:00 PM</option>
                        </select>
                        <label for="floatingPassword">Start Time</label>
                      </div>
                    </div>

                    <div class="col-6 mb-3">
                      <div class="form-floating">
                        <select
                          class="form-select"
                          id="honor-vacant-end-time"
                          onchange="updateHonorVacantHiddenEndTime()"
                          disabled
                        >
                          <option default disabled></option>
                          <!-- Options will be dynamically populated based on the selected Start Time -->
                        </select>
                        <label for="floatingPassword">End Time</label>
                      </div>
                    </div>

                    <!-- Hidden input to store the value of the End Time dropdown -->
                    <input
                      type="hidden"
                      id="honor-vacant-hidden-endingTime"
                      name="honorVacantEndingTime"
                    />
                  </div>

                  <div class="d-flex column-gap-3 justify-content-center">
                    <button
                      type="submit"
                      name="btn"
                      value="backToAdmin"
                      class="btn btn-secondary"
                      formnovalidate
                    >
                      Back
                    </button>

                    <button
                      type="submit"
                      name="btn"
                      value="insertHonorariumVacant"
                      class="btn btn-success"
                    >
                      Confirm Changes
                    </button>
                  </div>

                  {% endif %}
                </div>
              </div>
            </div>

            <div class="col-8">
              <div class="bg-primary-subtle p-4 rounded-4">
                {% for prof in professorData if prof[0] == current_professor %}
                <h3 class="text-center">Schedule for <b>{{prof[1]}}</b></h3>

                <div class="container">
                  <!-- TABLE HTML CODE (IT'S NOT EFFICIENT, BUT IT WORKS, PLEASE EDIT WITH CAUTION!)-->

                  <table id="scheduleTable" class="table table-striped table-sm text-center mt-4">
                    <thead>
                      <tr>
                        <th scope="col">Time</th>
                        <th scope="col">Monday</th>
                        <th scope="col">Tuesday</th>
                        <th scope="col">Wednesday</th>
                        <th scope="col">Thursday</th>
                        <th scope="col">Friday</th>
                        <th scope="col">Saturday</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row">7:30 AM - 9:00 AM</th>
                        {% for sched in scheduleData if sched[5] == 'Monday' and
                        sched[6].strftime('%H:%M:%S') == '07:30:00' and
                        sched[7].strftime('%H:%M:%S') == '09:00:00' and sched[2]
                        == current_professor %}
                        <td>{{ sched[1] }} {{ sched[3] }} {{ sched[4] }}</td>
                        {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Tuesday' and sched[6].strftime('%H:%M:%S') ==
                        '07:30:00' and sched[7].strftime('%H:%M:%S') ==
                        '09:00:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Wednesday' and sched[6].strftime('%H:%M:%S') ==
                        '07:30:00' and sched[7].strftime('%H:%M:%S') ==
                        '09:00:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Thursday' and sched[6].strftime('%H:%M:%S') ==
                        '07:30:00' and sched[7].strftime('%H:%M:%S') ==
                        '09:00:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Friday' and sched[6].strftime('%H:%M:%S') == '07:30:00'
                        and sched[7].strftime('%H:%M:%S') == '09:00:00' and
                        sched[2] == current_professor %} {% if sched[1] == 'HT'
                        ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Saturday' and sched[6].strftime('%H:%M:%S') ==
                        '07:30:00' and sched[7].strftime('%H:%M:%S') ==
                        '09:00:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %}
                      </tr>

                      <tr>
                        <th scope="row">9:00 AM - 10:30 AM</th>
                        {% for sched in scheduleData if sched[5] == 'Monday' and
                        sched[6].strftime('%H:%M:%S') == '09:00:00' and
                        sched[7].strftime('%H:%M:%S') == '10:30:00' and sched[2]
                        == current_professor %} {% if sched[1] == 'HT' ~
                        current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Tuesday' and sched[6].strftime('%H:%M:%S') ==
                        '09:00:00' and sched[7].strftime('%H:%M:%S') ==
                        '10:30:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Wednesday' and sched[6].strftime('%H:%M:%S') ==
                        '09:00:00' and sched[7].strftime('%H:%M:%S') ==
                        '10:30:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Thursday' and sched[6].strftime('%H:%M:%S') ==
                        '09:00:00' and sched[7].strftime('%H:%M:%S') ==
                        '10:30:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Friday' and sched[6].strftime('%H:%M:%S') == '09:00:00'
                        and sched[7].strftime('%H:%M:%S') == '10:30:00' and
                        sched[2] == current_professor %} {% if sched[1] == 'HT'
                        ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Saturday' and sched[6].strftime('%H:%M:%S') ==
                        '09:00:00' and sched[7].strftime('%H:%M:%S') ==
                        '10:30:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %}
                      </tr>

                      <tr>
                        <th scope="row">10:30 AM - 12:00 PM</th>
                        {% for sched in scheduleData if sched[5] == 'Monday' and
                        sched[6].strftime('%H:%M:%S') == '10:30:00' and
                        sched[7].strftime('%H:%M:%S') == '12:00:00' and sched[2]
                        == current_professor %} {% if sched[1] == 'HT' ~
                        current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Tuesday' and sched[6].strftime('%H:%M:%S') ==
                        '10:30:00' and sched[7].strftime('%H:%M:%S') ==
                        '12:00:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Wednesday' and sched[6].strftime('%H:%M:%S') ==
                        '10:30:00' and sched[7].strftime('%H:%M:%S') ==
                        '12:00:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Thursday' and sched[6].strftime('%H:%M:%S') ==
                        '10:30:00' and sched[7].strftime('%H:%M:%S') ==
                        '12:00:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Friday' and sched[6].strftime('%H:%M:%S') == '10:30:00'
                        and sched[7].strftime('%H:%M:%S') == '12:00:00' and
                        sched[2] == current_professor %} {% if sched[1] == 'HT'
                        ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Saturday' and sched[6].strftime('%H:%M:%S') ==
                        '10:30:00' and sched[7].strftime('%H:%M:%S') ==
                        '12:00:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %}
                      </tr>

                      <tr>
                        <th scope="row">12:00 PM - 1:30 PM</th>
                        {% for sched in scheduleData if sched[5] == 'Monday' and
                        sched[6].strftime('%H:%M:%S') == '12:00:00' and
                        sched[7].strftime('%H:%M:%S') == '13:30:00' and sched[2]
                        == current_professor %} {% if sched[1] == 'HT' ~
                        current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Tuesday' and sched[6].strftime('%H:%M:%S') ==
                        '12:00:00' and sched[7].strftime('%H:%M:%S') ==
                        '13:30:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Wednesday' and sched[6].strftime('%H:%M:%S') ==
                        '12:00:00' and sched[7].strftime('%H:%M:%S') ==
                        '13:30:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Thursday' and sched[6].strftime('%H:%M:%S') ==
                        '12:00:00' and sched[7].strftime('%H:%M:%S') ==
                        '13:30:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Friday' and sched[6].strftime('%H:%M:%S') == '12:00:00'
                        and sched[7].strftime('%H:%M:%S') == '13:30:00' and
                        sched[2] == current_professor %} {% if sched[1] == 'HT'
                        ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Saturday' and sched[6].strftime('%H:%M:%S') ==
                        '12:00:00' and sched[7].strftime('%H:%M:%S') ==
                        '13:30:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}} {{sched[3]}} {{sched[5]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %}
                      </tr>

                      <tr>
                        <th scope="row">1:30 PM - 3:00 PM</th>
                        {% for sched in scheduleData if sched[5] == 'Monday' and
                        sched[6].strftime('%H:%M:%S') == '13:30:00' and
                        sched[7].strftime('%H:%M:%S') == '15:00:00' and sched[2]
                        == current_professor %} {% if sched[1] == 'HT' ~
                        current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Tuesday' and sched[6].strftime('%H:%M:%S') ==
                        '13:30:00' and sched[7].strftime('%H:%M:%S') ==
                        '15:00:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Wednesday' and sched[6].strftime('%H:%M:%S') ==
                        '13:30:00' and sched[7].strftime('%H:%M:%S') ==
                        '15:00:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Thursday' and sched[6].strftime('%H:%M:%S') ==
                        '13:30:00' and sched[7].strftime('%H:%M:%S') ==
                        '15:00:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Friday' and sched[6].strftime('%H:%M:%S') == '13:30:00'
                        and sched[7].strftime('%H:%M:%S') == '15:00:00' and
                        sched[2] == current_professor %} {% if sched[1] == 'HT'
                        ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Saturday' and sched[6].strftime('%H:%M:%S') ==
                        '13:30:00' and sched[7].strftime('%H:%M:%S') ==
                        '15:00:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %}
                      </tr>

                      <tr>
                        <th scope="row">3:00 PM - 4:30 PM</th>
                        {% for sched in scheduleData if sched[5] == 'Monday' and
                        sched[6].strftime('%H:%M:%S') == '15:00:00' and
                        sched[7].strftime('%H:%M:%S') == '16:30:00' and sched[2]
                        == current_professor %} {% if sched[1] == 'HT' ~
                        current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Tuesday' and sched[6].strftime('%H:%M:%S') ==
                        '15:00:00' and sched[7].strftime('%H:%M:%S') ==
                        '16:30:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Wednesday' and sched[6].strftime('%H:%M:%S') ==
                        '15:00:00' and sched[7].strftime('%H:%M:%S') ==
                        '16:30:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Thursday' and sched[6].strftime('%H:%M:%S') ==
                        '15:00:00' and sched[7].strftime('%H:%M:%S') ==
                        '16:30:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Friday' and sched[6].strftime('%H:%M:%S') == '15:00:00'
                        and sched[7].strftime('%H:%M:%S') == '16:30:00' and
                        sched[2] == current_professor %} {% if sched[1] == 'HT'
                        ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %} {% for sched in scheduleData if sched[5] ==
                        'Saturday' and sched[6].strftime('%H:%M:%S') ==
                        '15:00:00' and sched[7].strftime('%H:%M:%S') ==
                        '16:30:00' and sched[2] == current_professor %} {% if
                        sched[1] == 'HT' ~ current_professor %}
                        <td>Honorarium</td>
                        {% elif sched[1] == 'VT' ~ current_professor %}
                        <td>Vacant Time</td>
                        {% else %}
                        <td>{{sched[1]}}<br/>{{sched[3]}}<br/>{{sched[4]}}</td>
                        {% endif %} {% else %}
                        <td>-</td>
                        {% endfor %}
                      </tr>
                    </tbody>
                  </table>
                  {% else %}
                  <div class="alert alert-info border-3 text-center">
                    No schedule to be displayed.
                  </div>
                  {% endfor %}

                  <div
                    class="justify-content-center bg-light container py-3 px-4"
                    id="optionsBox"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#additionalOptions"
                  >
                    <div class="row">
                      <div class="col d-flex justify-content-start">
                        <h5 style="margin-top: 1.3vh">Administrator Options</h5>
                      </div>
                      <div class="col d-flex justify-content-end">
                        <p style="margin-top: 1.3vh"><u>Show/Hide</u></p>
                      </div>
                    </div>

                    <div
                      id="additionalOptions"
                      class="collapse show row bg-primary bg-opacity-10 justify-content-center"
                      data-bs-parent="#optionsBox"
                    >
                      <div class="col-2 py-4">
                        <button
                          type="button"
                          class="btn btn-success"
                          data-bs-toggle="modal"
                          data-bs-target="#addNewCourses"
                        >
                          Add New Course
                        </button>
                      </div>
                      <div class="col-2 py-4">
                        <button
                          type="button"
                          class="btn btn-danger"
                          data-bs-toggle="modal"
                          data-bs-target="#manageExistingCourses"
                        >
                          Delete A Course
                        </button>
                      </div>
                      
                      {% for schedType in professorData if schedType[0] == current_professor %}
                        {% if schedType[2] == 'Incomplete' %}
                          <div class="col-2 py-4" id="markScheduleDiv">
                            <button
                              type="button"
                              class="btn btn-primary"
                              data-bs-toggle="modal"
                              data-bs-target="#completeSched"
                            >
                              Mark As Complete
                            </button>
                          </div>
                        {% elif schedType[2] == 'Complete' %}
                          <div class="col-2 py-4" id="markScheduleDiv">
                            <button
                              type="button"
                              class="btn btn-secondary"
                              data-bs-toggle="modal"
                              data-bs-target="#incompleteSched"
                            >
                              Mark As Incomplete
                            </button>
                          </div>
                        {% endif %}
                        <div class="col-2 py-4" id="deleteAccountDiv">
                          <button
                            type="button"
                            class="btn btn-danger"
                            data-bs-toggle="modal"
                            data-bs-target="#deleteCurrentAccount"
                          >
                            Delete Account
                          </button>
                        </div>
                      {% endfor %}
                    </div>
                  </div>
                </div>

                <!-- END OF TABLE HTML CODE -->
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ADDING NEW COURSES -->
      <div
        class="modal fade"
        id="addNewCourses"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">
                Add New Course
              </h1>
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col-6 mb-3">
                  <div class="form-floating">
                    <input
                      type="text"
                      class="form-control"
                      id="floatingInput"
                      name="courseCode"
                      placeholder="OACC1"
                      style="height: 70px"
                    />
                    <label for="floatingInput">Course Code</label>
                  </div>
                </div>
                <div class="col-6 mb-3">
                  <div class="form-floating">
                    <select
                      class="form-select"
                      name="courseUnits"
                      style="height: 70px"
                    >
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5</option>
                      <option value="6">6</option>
                    </select>
                    <label for="floatingPassword">Units</label>
                  </div>
                </div>
              </div>
              <div class="form-floating mb-3">
                <input
                  type="text"
                  class="form-control"
                  id="floatingPassword"
                  name="courseName"
                  placeholder="Foundation of Shorthand"
                  style="height: 70px"
                />
                <label for="floatingPassword">Course Name</label>
              </div>
              <div class="form-floating mb-3">
                <select
                  class="form-select"
                  name="courseYear"
                  style="height: 70px"
                >
                  <option value="FIRST YEAR">First Year</option>
                  <option value="SECOND YEAR">Second Year</option>
                  <option value="THIRD YEAR">Third Year</option>
                  <option value="FOURTH YEAR">Fourth Year</option>
                </select>
                <label for="floatingPassword">Course Year</label>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <button
                type="submit"
                name="btn"
                value="addCourse"
                class="btn btn-primary"
                formnovalidate
              >
                Add Course
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- SELECTING COURSES TO MANAGE -->
      <div
        class="modal fade"
        id="manageExistingCourses"
        tabindex="-1"
        aria-labelledby="exampleModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">
                Select Course
              </h1>
            </div>
            <div class="modal-body">
              <div class="row">
                <div>
                  <div class="form-floating">
                    <select
                      id="current_course"
                      class="form-select"
                      name="courseToBeDeleted"
                      onchange="loadCourseInformation()"
                    >
                      <option selected>- Select a course -</option>
                      {% for prof_courses in courseData %}
                      <option value="{{prof_courses[0]}}">
                        {{ prof_courses[0] }}
                      </option>
                      {% endfor %}
                    </select>
                    <label for="current_course">Course to be deleted</label>
                  </div>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Close
              </button>
              <button
                type="button"
                name="btn"
                class="btn btn-danger"
                data-bs-target="#deleteCourse"
                data-bs-toggle="modal"
              >
                Delete Course
              </button>
            </div>
          </div>
        </div>
      </div>

      <div
        class="modal fade"
        id="deleteCourse"
        aria-hidden="true"
        aria-labelledby="exampleModalToggleLabel2"
        tabindex="-1"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalToggleLabel2">
                Confirm Changes
              </h1>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              Are you sure you want to delete this course?
            </div>
            <div class="modal-footer">
              <button
                type="submit"
                name="btn"
                class="btn btn-primary"
                data-bs-dismiss="modal"
                value="deleteCourse"
                formnovalidate
              >
                Yes, delete it
              </button>
              <button
                class="btn btn-secondary"
                type="button"
                data-bs-toggle="modal"
                data-bs-target="#manageExistingCourses"
              >
                No
              </button>
            </div>
          </div>
        </div>
      </div>

      <div
        class="modal fade"
        id="deleteCurrentAccount"
        aria-hidden="true"
        aria-labelledby="exampleModalToggleLabel2"
        tabindex="-1"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalToggleLabel2">
                Confirm Changes
              </h1>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            {% for prof in professorData if prof[0] == current_professor %}
              <div class="modal-body">
                Are you sure you want to delete <b>Professor {{prof[1]}}</b> from the system?
              </div>
            {% endfor %}
            <div class="modal-footer">
              <button
                type="submit"
                name="btn"
                class="btn btn-primary"
                data-bs-dismiss="modal"
                value="deleteUser"
                formnovalidate
              >
                Yes, delete it
              </button>
              <button
                class="btn btn-secondary"
                type="button"
                data-bs-toggle="modal"
              >
                No
              </button>
            </div>
          </div>
        </div>
      </div>

      <div
        class="modal fade"
        id="completeSched"
        aria-hidden="true"
        aria-labelledby="exampleModalToggleLabel2"
        tabindex="-1"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalToggleLabel2">
                Confirm Changes
              </h1>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              Are you sure you want to mark this schedule as <e>complete</e>?
            </div>
            <div class="modal-footer">
              <button
                type="submit"
                name="btn"
                class="btn btn-primary"
                data-bs-dismiss="modal"
                value="markComplete"
                formnovalidate
              >
                Yes
              </button>
              <button
                class="btn btn-secondary"
                type="button"
                data-bs-toggle="modal"
              >
                No
              </button>
            </div>
          </div>
        </div>
      </div>

      <div
        class="modal fade"
        id="incompleteSched"
        aria-hidden="true"
        aria-labelledby="exampleModalToggleLabel2"
        tabindex="-1"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalToggleLabel2">
                Confirm Changes
              </h1>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              Are you sure you want to mark this schedule as <e>incomplete</e>?
            </div>
            <div class="modal-footer">
              <button
                type="submit"
                name="btn"
                class="btn btn-primary"
                data-bs-dismiss="modal"
                value="markIncomplete"
                formnovalidate
              >
                Yes
              </button>
              <button
                class="btn btn-secondary"
                type="button"
                data-bs-toggle="modal"
              >
                No
              </button>
            </div>
          </div>
        </div>
      </div>

    </form>
  </body>
</html>
{% endblock %}
